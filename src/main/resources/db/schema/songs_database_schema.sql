-- Drop tables if they exist
DROP TABLE IF EXISTS SONG_NAMES;
DROP TABLE IF EXISTS SONGS;

CREATE TABLE SONGS
(
    ID           INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FILE_NAME    VARCHAR(64) NOT NULL UNIQUE,
    IS_ORDERABLE BOOLEAN,
    BUY_PRICE    INTEGER,
    SELL_PRICE   INTEGER,
    IMAGE_URI    VARCHAR(128),
    MUSIC_URI    VARCHAR(128)
);

-- Localized names
CREATE TABLE SONG_NAMES
(
    ID      INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    SONG_ID INTEGER      NOT NULL,
    LOCALE  VARCHAR(32)  NOT NULL,
    NAME    VARCHAR(128) NOT NULL,
    FOREIGN KEY (SONG_ID) REFERENCES SONGS (ID) ON DELETE CASCADE
);
