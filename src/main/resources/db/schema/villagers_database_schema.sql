-- Drop tables if they exist
DROP TABLE IF EXISTS VILLAGER_CATCH_TRANSLATIONS;
DROP TABLE IF EXISTS VILLAGER_NAMES;
DROP TABLE IF EXISTS VILLAGERS;

CREATE TABLE VILLAGERS
(
    ID              INTEGER PRIMARY KEY,
    FILE_NAME       VARCHAR(64) NOT NULL UNIQUE,
    PERSONALITY     VARCHAR(16),
    BIRTHDAY        VARCHAR(32),
    BIRTHDAY_STRING VARCHAR(32),
    SPECIES         VARCHAR(32),
    GENDER          VARCHAR(16),
    SUBTYPE         VARCHAR(16),
    HOBBY           VARCHAR(16),
    CATCH_PHRASE    VARCHAR(128),
    ICON_URI        VARCHAR(128),
    IMAGE_URI       VARCHAR(128),
    BUBBLE_COLOR    VARCHAR(16),
    TEXT_COLOR      VARCHAR(16),
    SAYING          VARCHAR(128)
);

-- Localized names
CREATE TABLE VILLAGER_NAMES
(
    ID          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    VILLAGER_ID INTEGER      NOT NULL,
    LOCALE      VARCHAR(32)  NOT NULL,
    NAME        VARCHAR(128) NOT NULL,
    FOREIGN KEY (VILLAGER_ID) REFERENCES VILLAGERS (ID) ON DELETE CASCADE
);

-- Localized catchphrases
CREATE TABLE VILLAGER_CATCH_TRANSLATIONS
(
    ID          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    VILLAGER_ID INTEGER      NOT NULL,
    LOCALE      VARCHAR(32)  NOT NULL,
    PHRASE      VARCHAR(128) NOT NULL,
    FOREIGN KEY (VILLAGER_ID) REFERENCES VILLAGERS (ID) ON DELETE CASCADE
);
